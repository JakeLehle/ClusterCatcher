name: ClusterCatcher
channels:
  - conda-forge
  - bioconda
dependencies:
  # ===========================================
  # Core Python
  # ===========================================
  - python>=3.8,<3.12
  - pip
  
  # ===========================================
  # Pipeline Management
  # ===========================================
  - snakemake>=7.0
  - mamba
  - conda
  
  # ===========================================
  # CLI and Configuration
  # ===========================================
  - click>=8.0
  - pyyaml
  - rich  # For nice CLI output
  - coincbc

  # ===========================================
  # Data Handling
  # ===========================================
  - pandas>=1.3
  - numpy>=1.20
  - scipy>=1.7
  - h5py
  - hdf5
  - tqdm
  
  # ===========================================
  # Bioinformatics Core Tools
  # ===========================================
  - samtools>=1.15
  - bedtools>=2.30
  - bcftools>=1.15
  - pysam>=0.19
  - pybedtools>=0.9
  
  # ===========================================
  # Single-Cell Analysis (Scanpy Ecosystem)
  # ===========================================
  - scanpy>=1.9
  - anndata>=0.8
  - leidenalg
  - python-igraph
  - scrublet  # Doublet detection
  - harmonypy  # Batch correction
  
  # ===========================================
  # Cell Type Annotation
  # ===========================================
  # Note: popV may need pip installation
  # CellTypist available via pip
  
  # ===========================================
  # Visualization
  # ===========================================
  - matplotlib-base>=3.5
  - seaborn>=0.11
  - adjusttext
  - plotly  # For interactive plots
  
  # ===========================================
  # Machine Learning / Statistics
  # ===========================================
  - scikit-learn>=1.0
  - statsmodels
  
  # ===========================================
  # Kraken2 for Viral Detection
  # ===========================================
  - kraken2>=2.1
  - bracken  # For abundance estimation
  
  # ===========================================
  # SComatic Dependencies
  # ===========================================
  - datamash
  - psutil
  # R is needed for some SComatic scripts
  - r-base>=4.0
  - rpy2>=3.4
  
  # ===========================================
  # Additional Utilities
  # ===========================================
  - biopython
  - regex
  - multiqc  # For QC reports
  
  # ===========================================
  # Pip Packages
  # ===========================================
  - pip:
    # Cell type annotation
    - popv  # Consensus annotation
    - celltypist  # Reference-based annotation
    # CytoTRACE2 (install separately from GitHub if needed)
    # - git+https://github.com/digitalcytometry/cytotrace2.git#subdirectory=cytotrace2_python
    # InferCNV Python wrapper
    - infercnvpy
    # Additional scanpy plugins
    - scvi-tools  # For advanced integration

# ===========================================
# Notes
# ===========================================
# External software NOT managed by conda (install separately):
#
# 1. Cell Ranger (required)
#    Download from: https://support.10xgenomics.com/single-cell-gene-expression/software/downloads/latest
#    Add to PATH: export PATH=/path/to/cellranger:$PATH
#
# 2. SComatic (required for mutation calling)
#    Clone from: https://github.com/cortes-ciriano-lab/SComatic
#
# 3. CytoTRACE2 (required for dysregulation detection)
#    Clone and install:
#    git clone https://github.com/digitalcytometry/cytotrace2.git
#    cd cytotrace2/cytotrace2_python && pip install .

